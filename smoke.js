import { MeshToonMaterial, CircleGeometry, Mesh, Object3D, DoubleSide, SphereGeometry } from "three";
import { mathRandom } from "./utils";

function makeSmoke(aparticular = 600, intensity = 25, radius = 1) {
    const smoke = new Object3D();

    const material = new MeshToonMaterial({
        color: 0xffffff,
        side: DoubleSide,
        emissive: 0xffffff,
        emissiveIntensity: intensity,
    });
    const particleGeometry = new SphereGeometry(radius);

    for (var h = 1; h < 300; h++) {
        const particle = new Mesh(particleGeometry, material);
        particle.position.set(
            mathRandom(aparticular),
            mathRandom(aparticular),
            mathRandom(aparticular)
        );
        particle.rotation.set(mathRandom(), mathRandom(), mathRandom());
        smoke.add(particle);
    }

    return smoke;
}

export { makeSmoke };